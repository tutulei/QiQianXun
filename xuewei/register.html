<!DOCTYPE HTML>
<html>
	<head>
		<title>Register</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="Movie_store Responsive web template, Bootstrap Web Templates, Flat Web Templates, Andriod Compatible web template, 
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyErricsson, Motorola web design" />
		<script type="application/x-javascript">
			addEventListener("load", function() {
				setTimeout(hideURLbar, 0);
			}, false);

			function hideURLbar() {
				window.scrollTo(0, 1);
			}
		</script>
		<link href="css/bootstrap.css" rel='stylesheet' type='text/css' />
		<link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
		<!-- start plugins -->

		<script src="js/jquery.min.js"></script>
		<script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/Chart.min.js"></script>

		<!-- <link href='http://fonts.useso.com/css?family=Roboto+Condensed:100,200,300,400,500,600,700,800,900' rel='stylesheet'
		 type='text/css'> -->
	</head>
	<body>
		<div class="container">
			<div class="container_wrap">
					<div class="header_top">
						<div class="col-sm-3 logo"><a href="#"></a></div>
						<div class="col-sm-3 header_right" style="position:absolute;right:-80px;bottom:680px;">
							<ul class="header_right_box">
								<li><img src="images/icon1.png"></li>
								<li>
									<p><a href="login.html"style="color:#ffffff" ;text-decoration: none;>Login</a></p>
								</li>
							</ul>
						</div>
						<div class="clearfix"> </div>
					</div>
				<div class="content">
					<div class="register">
						<form>
							<div class="register-top-grid">
								<h3>Personal Information</h3>
								<div>
									<span>usrName<label>*</label></span>
									<input type="text" id="username">
								</div>
								<div>
									<span>Phone<label>*</label></span>
									<input type="text" id="phone">
								</div>
								<div class="clearfix"> </div>
								<a class="news-letter" href="#">

								</a>
							</div>
							<div class="register-bottom-grid">
								<h3>Login Information</h3>
								<div>
									<span>Password<label>*</label></span>
									<input type="text" id="password">
								</div>
								<div>
									<span>Confirm Password<label>*</label></span>
									<input type="text" id="repassword">
								</div>
								<div class=" clearfix">
								</div>
							</div>
						</form>
						<div class="clearfix"> </div>
						<div class="register-but">
							<form>
								<input type="submit" value="submit" id="submit">
								<div class="clearfix"> </div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>


		<script>
			$(function() {
				$('#submit').click(function() {
					var str = {
						userPhone: $("#phone").val(),
						userName: $("#username").val(),
						userPwd: $("#password").val()
					};
					var userName = document.getElementById("username").value;
					var userPwd = document.getElementById("password").value;
					var reuserPwd = document.getElementById("repassword").value;
					var userPhone = document.getElementById("phone").value;
					if (userName == "") {

						alert("请输入用户名");

						document.getElementById("password").focus();

						return;



					}
					if (userPhone.length != 11) {
						alert("手机号为11位数字组成");
						return;
					}
					if (userPwd == "") {

						alert("请输入密码");

						document.getElementById("password").focus();

						return;

					}
					if (userPwd != reuserPwd) {

						alert("输入的密码不一致，请重新输入");

						document.getElementById("password").focus();
						return;
					}
					$.ajax({
						type: 'POST',
						url: "http://101.132.157.72:8086/user/register",
						contentType: 'application/json',
						data: JSON.stringify(str),
						success: function(msg) { // 返回的RequestResult的json对象
							// alert("hello2")
							if (msg != "") {
								alert('注册成功');
								console.log(msg);
							} else {
								alert('用户名或者手机号已被注册！请重试');
							}
						},
						error: function(XMLHttpRequest, textStatus, errorThrown) {
							// 状态码
							console.log(XMLHttpRequest.status);
							// 状态
							console.log(XMLHttpRequest.readyState);
							// 错误信息   
							console.log(textStatus);
						}

					})



					return false;
				})
			});


			// form.on("submit(LAY-user-front-submit)", function(e) {

			// 	$.ajax({
			// 		type: 'POST',
			// 		url: "http://101.132.157.72:8086/user/register",
			// 		dataType: 'json',
			// 		contentType: 'application/json',
			// 		data: JSON.stringify(e.field),
			// 		success: function(msg) {
			// 			if (msg == 1) {
			// 				layer.msg('添加用户成功');
			// 			} else {
			// 				layer.msg('添加失败！请重试');
			// 			}
			// 		},
			// 	});
			// 	layer.close(i);

			// })
		</script>
	</body>
</html>
